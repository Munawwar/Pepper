<html>
    <head>
        <link rel="modulepreload" href="../../src/index.js" />
        <link rel="modulepreload" href="./page.js" />
    </head>
    <body>
        <div id="myview1"><span>Counter = 1</span></div>
        <div id="myview2"><span>Counter = 1</span></div>
        <script>window.initialState = {"counter":1};</script>
        <script type="module">
            import initializePage from './page.js';
            const page = initializePage(window.initialState);
            page.view1.hydrate();
            page.view2.hydrate();
            // update counter
            window.setInterval(function () {
                page.store.assign({
                    counter: page.store.data.counter + 1,
                });
            }, 1000);
        </script>
    </body>
</html>
