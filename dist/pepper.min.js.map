{"version":3,"sources":["pepper.js"],"names":["factory","module","exports","window","Pepper","arrayProto","Array","prototype","from","arrayLike","fromIndex","slice","call","each","fn","context","forEach","keys","obj","Object","filter","key","assign","target","arguments","merge","out","argIndex","length","val","keyIndex","isCustomElement","element","tagName","indexOf","attr","getAttribute","traverseElements","parentNode","onNextNode","treeWalker","document","createTreeWalker","NodeFilter","SHOW_ELEMENT","node","currentNode","nextSibling","nextNode","hashNode","cache","el","hash","get","nodeType","outerHTML","innerHTML","nodeValue","set","patchDom","newNodes","liveNodes","after","nodeHashCache","WeakMap","domLookup","newNode","u","n2l","Map","l2n","push","numberOfMatches","salvagableElements","liveNode","entry","matched","shift","nodeName","i","has","removeChild","splice","insertAt","childNodes","newLiveNodes","Set","index","existingLiveNode","nodeAtPosition","add","insertBefore","newNodeName","newEl","aLiveNode","attributes","getNamedItem","name","removeNamedItem","value","setAttribute","syncAttributes","config","self","this","_data","data","mount","hydrate","defineProperty","configurable","render","handlerMap","Store","initialData","_subscribers","newData","changedProps","concat","prop","notify","changedPropsLookup","reduce","acc","subscriber","changesPropsSubset","props","callback","subscribe","propsToListenFor","func","isArray","some","undefined","unsubscribe","connect","getHtml","args","apply","handleEvent","event","currentTarget","type","callHandler","focusId","activeElement","id","refVal","Node","eventName","removeEventListener","delete","removeAllHandlers","storeData","store","html","frag","createElement","templateTag","content","jQuery","createDocumentFragment","parseHTML","appendChild","toRemove","querySelectorAll","parseAsFragment","firstElementChild","parent","childIndex","previousSibling","focusEl","getElementById","focus","domHydrate","pepperInstance","startsWith","replace","newMap","addEventListener","attachHandler","hydrateOnly","querySelector","append","unmount"],"mappings":"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"}